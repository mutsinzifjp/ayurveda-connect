<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayurveda Connect Prototype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <!-- Main Content Container -->
    <div class="flex-grow flex flex-col justify-center items-center p-4" id="main-container">

        <!-- Landing Page (hidden by default) -->
        <div id="landing-page" class="hidden flex-col items-center justify-center text-center p-8 bg-white rounded-lg shadow-lg max-w-lg w-full transition-opacity duration-500 ease-in-out opacity-0">
            <h1 class="text-4xl sm:text-5xl font-bold text-teal-600 mb-4">Ayurveda Connect</h1>
            <p class="text-lg text-gray-700 mb-6">
                A mission-driven platform to empower the global Ayurveda community. Connect with mentors, share knowledge, and build your professional portfolio.
            </p>
            <button id="get-started-btn" class="px-6 py-3 bg-teal-600 text-white font-semibold rounded-full shadow-lg hover:bg-teal-700 transition-colors duration-300">
                Get Started
            </button>
        </div>

        <!-- Dashboard View (visible by default) -->
        <div id="dashboard-view" class="flex flex-col w-full max-w-4xl p-6 md:p-8 bg-white rounded-lg shadow-lg transition-opacity duration-500 ease-in-out opacity-100">
            <header class="flex flex-col md:flex-row justify-between items-center mb-6 border-b pb-4">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-teal-200 rounded-full flex items-center justify-center font-bold text-xl text-teal-800">
                        AF
                    </div>
                    <div class="text-left">
                        <h2 class="text-xl font-bold">Welcome, Fils!</h2>
                        <p class="text-sm text-gray-500">BAMS Student, Uganda</p>
                    </div>
                </div>
                <nav class="mt-4 md:mt-0 space-x-2 sm:space-x-4">
                    <button id="profile-btn" class="px-3 py-1.5 sm:px-4 sm:py-2 text-sm font-medium text-teal-600 rounded-full hover:bg-teal-100 transition-colors duration-200">
                        <span class="hidden sm:inline">My </span>Profile
                    </button>
                    <button id="mentors-btn" class="px-3 py-1.5 sm:px-4 sm:py-2 text-sm font-medium text-teal-600 rounded-full hover:bg-teal-100 transition-colors duration-200">
                        Mentors
                    </button>
                    <button id="jobs-btn" class="px-3 py-1.5 sm:px-4 sm:py-2 text-sm font-medium text-teal-600 rounded-full hover:bg-teal-100 transition-colors duration-200">
                        Jobs
                    </button>
                </nav>
            </header>
            
            <!-- Main Content Area -->
            <div id="main-content-area" class="flex flex-col w-full">
                <section id="dashboard-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Mentorship Card -->
                    <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Connect with a Mentor</h3>
                        <p class="text-gray-600 text-sm mb-4">
                            Find experienced practitioners who can guide your journey, or get instant advice from our AI mentor.
                        </p>
                        <button id="find-mentor-btn" class="w-full py-2 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 transition-colors duration-200">
                            Find a Mentor
                        </button>
                    </div>
                    
                    <!-- Knowledge Hub Card -->
                    <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Explore the Knowledge Hub</h3>
                        <p class="text-gray-600 text-sm mb-4">
                            Access scattered journals, research, and case studies in one place.
                        </p>
                        <button id="search-research-btn" class="w-full py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors duration-200">
                            Search Research
                        </button>
                    </div>

                    <!-- Career Services Card -->
                    <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Career & Jobs</h3>
                        <p class="text-gray-600 text-sm mb-4">
                            Discover job openings and internship opportunities globally.
                        </p>
                        <button id="view-jobs-btn" class="w-full py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors duration-200">
                            View Jobs
                        </button>
                    </div>
                </section>

                <!-- AI Mentor Section (hidden by default) -->
                <section id="ai-mentor-section" class="hidden mt-8 p-6 bg-white rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4 flex items-center">
                        <span class="mr-2">✨ Mentorship AI ✨</span>
                    </h3>
                    <p class="text-gray-600 mb-4">
                        Ask a question about your Ayurveda studies, concepts, or career path. Our AI mentor will provide instant guidance.
                    </p>
                    <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 mb-4">
                        <textarea id="mentor-prompt" class="flex-grow p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500" placeholder="e.g., How can I better understand the concept of Dhatu?"></textarea>
                        <button id="mentor-ask-btn" class="px-6 py-3 bg-teal-600 text-white font-semibold rounded-md shadow-lg hover:bg-teal-700 transition-colors duration-300">
                            Ask ✨
                        </button>
                    </div>
                    <div id="mentor-response" class="bg-gray-100 p-4 rounded-md mt-4 hidden">
                        <div id="mentor-response-text" class="prose max-w-none text-gray-800"></div>
                        <div id="mentor-loading" class="text-gray-500 animate-pulse hidden">Generating response...</div>
                    </div>
                </section>

                <!-- Knowledge Hub AI Section (hidden by default) -->
                <section id="knowledge-hub-section" class="hidden mt-8 p-6 bg-white rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4 flex items-center">
                        <span class="mr-2">✨ Knowledge Hub AI ✨</span>
                    </h3>
                    <p class="text-gray-600 mb-4">
                        Enter a research topic or a journal article title, and our AI will provide a concise summary.
                    </p>
                    <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 mb-4">
                        <input type="text" id="knowledge-prompt" class="flex-grow p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., A review of Ayurvedic treatment for diabetes">
                        <button id="knowledge-summarize-btn" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-md shadow-lg hover:bg-blue-700 transition-colors duration-300">
                            Summarize ✨
                        </button>
                    </div>
                    <div id="knowledge-response" class="bg-gray-100 p-4 rounded-md mt-4 hidden">
                        <div id="knowledge-response-text" class="prose max-w-none text-gray-800"></div>
                        <div id="knowledge-loading" class="text-gray-500 animate-pulse hidden">Generating summary...</div>
                    </div>
                </section>
                
                <!-- Community Feed Section -->
                <section id="community-feed-section" class="mt-8">
                    <h3 class="text-xl font-bold mb-4">Community Feed</h3>
                    <div class="space-y-4">
                        <!-- Feed Item 1 -->
                        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
                            <div class="flex items-center mb-2">
                                <div class="w-8 h-8 bg-gray-300 rounded-full mr-2"></div>
                                <span class="font-semibold text-gray-800">Dr. Priya Sharma</span>
                            </div>
                            <p class="text-gray-700 text-sm">
                                Sharing a case study on a successful *Panchakarma* treatment for chronic arthritis. Let's discuss the role of *Aama* in this condition. #Ayurveda #Panchakarma
                            </p>
                        </div>
                        <!-- Feed Item 2 -->
                        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
                            <div class="flex items-center mb-2">
                                <div class="w-8 h-8 bg-gray-300 rounded-full mr-2"></div>
                                <span class="font-semibold text-gray-800">Rajesh K.</span>
                            </div>
                            <p class="text-gray-700 text-sm">
                                As a second-year BAMS student, I'm struggling with the complexity of *Charaka Samhita*. Any advice from my seniors on how to approach it?
                            </p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script>
        const getStartedBtn = document.getElementById('get-started-btn');
        const landingPage = document.getElementById('landing-page');
        const dashboardView = document.getElementById('dashboard-view');
        const mainContentArea = document.getElementById('main-content-area');
        const dashboardCards = document.getElementById('dashboard-cards');
        const findMentorBtn = document.getElementById('find-mentor-btn');
        const searchResearchBtn = document.getElementById('search-research-btn');
        const aiMentorSection = document.getElementById('ai-mentor-section');
        const knowledgeHubSection = document.getElementById('knowledge-hub-section');
        const mentorAskBtn = document.getElementById('mentor-ask-btn');
        const mentorPrompt = document.getElementById('mentor-prompt');
        const mentorResponse = document.getElementById('mentor-response');
        const mentorResponseText = document.getElementById('mentor-response-text');
        const mentorLoading = document.getElementById('mentor-loading');
        const knowledgeSummarizeBtn = document.getElementById('knowledge-summarize-btn');
        const knowledgePrompt = document.getElementById('knowledge-prompt');
        const knowledgeResponse = document.getElementById('knowledge-response');
        const knowledgeResponseText = document.getElementById('knowledge-response-text');
        const knowledgeLoading = document.getElementById('knowledge-loading');

        // Function to toggle between different views
        function toggleView(showSection) {
            const sections = [dashboardCards, aiMentorSection, knowledgeHubSection];
            sections.forEach(section => {
                if (section === showSection) {
                    section.classList.remove('hidden');
                } else {
                    section.classList.add('hidden');
                }
            });
        }

        getStartedBtn.addEventListener('click', () => {
            landingPage.classList.add('opacity-0');
            setTimeout(() => {
                landingPage.classList.add('hidden');
                dashboardView.classList.remove('hidden');
                setTimeout(() => {
                    dashboardView.classList.remove('opacity-0');
                }, 20);
            }, 500);
        });

        findMentorBtn.addEventListener('click', () => {
            toggleView(aiMentorSection);
        });

        searchResearchBtn.addEventListener('click', () => {
            toggleView(knowledgeHubSection);
        });
        
        // --- Gemini API Call Functions ---

        const apiKey = "";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        // Mentorship AI functionality
        mentorAskBtn.addEventListener('click', async () => {
            const prompt = mentorPrompt.value.trim();
            if (prompt === "") return;

            mentorResponse.classList.remove('hidden');
            mentorResponseText.classList.add('hidden');
            mentorLoading.classList.remove('hidden');

            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate a response.";
                
                mentorResponseText.innerHTML = text.replace(/\n/g, '<br>'); // Preserve newlines
                mentorResponseText.classList.remove('hidden');
            } catch (error) {
                mentorResponseText.innerHTML = "An error occurred. Please try again.";
                mentorResponseText.classList.remove('hidden');
                console.error('API Error:', error);
            } finally {
                mentorLoading.classList.add('hidden');
            }
        });

        // Knowledge Hub AI functionality
        knowledgeSummarizeBtn.addEventListener('click', async () => {
            const prompt = knowledgePrompt.value.trim();
            if (prompt === "") return;
            
            knowledgeResponse.classList.remove('hidden');
            knowledgeResponseText.classList.add('hidden');
            knowledgeLoading.classList.remove('hidden');

            const payload = {
                contents: [{ parts: [{ text: `Summarize the following topic for an Ayurveda student: ${prompt}` }] }],
                tools: [{ "google_search": {} }],
            };
            
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate a summary.";

                knowledgeResponseText.innerHTML = text.replace(/\n/g, '<br>');
                knowledgeResponseText.classList.remove('hidden');
            } catch (error) {
                knowledgeResponseText.innerHTML = "An error occurred. Please try again.";
                knowledgeResponseText.classList.remove('hidden');
                console.error('API Error:', error);
            } finally {
                knowledgeLoading.classList.add('hidden');
            }
        });

    </script>
</body>
</html>
